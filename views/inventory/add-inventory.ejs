<%- include('../partials/header') %>

<main class="container">
  <h1>Add New Inventory Item</h1>

  <!-- Flash message -->
  <% if (messages && messages.notice) { %>
    <div class="flash success"><%= messages.notice %></div>
  <% } %>

  <!-- Server-side validation errors -->
  <% if (errors && errors.length > 0) { %>
    <div class="flash error">
      <ul>
        <% errors.forEach(function(err) { %>
          <li><%= err.msg %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>

  <form id="addInventoryForm" action="/inv/add-inventory" method="POST">
    <!-- Classification select (HTML created by utilities) -->
    <label for="classificationList">Classification</label>


    <!-- Make -->
    <label for="inv_make">Make</label>
    <input id="inv_make" name="inv_make" type="text" required maxlength="60"
      value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>" />

    <!-- Model -->
    <label for="inv_model">Model</label>
    <input id="inv_model" name="inv_model" type="text" required maxlength="60"
      value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>" />

    <!-- Year -->
    <label for="inv_year">Year</label>
    <input id="inv_year" name="inv_year" type="number" required min="1900" max="2099"
      value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>" />

    <!-- Description -->
    <label for="inv_description">Description</label>
    <textarea id="inv_description" name="inv_description" required maxlength="2000"><%= typeof inv_description !== 'undefined' ? inv_description : '' %></textarea>

    <!-- Price -->
    <label for="inv_price">Price (USD)</label>
    <input id="inv_price" name="inv_price" type="number" step="0.01" required min="0"
      value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>" />

    <!-- Miles -->
    <label for="inv_miles">Miles</label>
    <input id="inv_miles" name="inv_miles" type="number" step="1" required min="0"
      value="<%= typeof inv_miles !== 'undefined' ? inv_miles : '' %>" />

    <!-- Color -->
    <label for="inv_color">Color</label>
    <input id="inv_color" name="inv_color" type="text" maxlength="30"
      value="<%= typeof inv_color !== 'undefined' ? inv_color : '' %>" />

    <!-- Image path -->
    <label for="inv_image">Image Path</label>
    <input id="inv_image" name="inv_image" type="text" required
      value="<%= typeof inv_image !== 'undefined' ? inv_image : '/images/no-image-available.png' %>" />

    <!-- Thumbnail path -->
    <label for="inv_thumbnail">Thumbnail Path</label>
    <input id="inv_thumbnail" name="inv_thumbnail" type="text" required
      value="<%= typeof inv_thumbnail !== 'undefined' ? inv_thumbnail : '/images/no-image-available-tn.png' %>" />

    <button type="submit" class="btn">Add Inventory Item</button>
  </form>

  <a href="/inv/" class="btn">Return Home</a>
</main>

<%- include('../partials/footer') %>
